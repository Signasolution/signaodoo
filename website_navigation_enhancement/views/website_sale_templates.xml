<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        
        <!-- Template pour améliorer le menu des catégories dans website_sale -->
        <template id="website_sale_categories_menu_enhancement" name="Website Sale Categories Menu Enhancement" inherit_id="website_sale.categories">
            
            <!-- Améliorer le conteneur principal -->
            <xpath expr="//div[@class='oe_website_sale']" position="attributes">
                <attribute name="class">oe_website_sale website-navigation-enhanced</attribute>
            </xpath>
            
            <!-- Améliorer le titre des catégories -->
            <xpath expr="//h4[contains(text(), 'Catégories')]" position="attributes">
                <attribute name="class">category-title</attribute>
            </xpath>
            
            <!-- Ajouter une icône de toggle -->
            <xpath expr="//h4[contains(text(), 'Catégories')]" position="inside">
                <span class="toggle-icon">▲</span>
            </xpath>
            
            <!-- Améliorer la liste des catégories -->
            <xpath expr="//ul[contains(@class, 'nav')]" position="attributes">
                <attribute name="class">nav category-list</attribute>
            </xpath>
            
            <!-- Améliorer les éléments de catégorie -->
            <xpath expr="//li[contains(@class, 'nav-item')]" position="attributes">
                <attribute name="class">nav-item category-item</attribute>
            </xpath>
            
            <!-- Améliorer les liens de catégorie -->
            <xpath expr="//a[contains(@class, 'nav-link')]" position="attributes">
                <attribute name="class">nav-link category-link</attribute>
            </xpath>
            
            <!-- Ajouter des classes pour les sous-catégories -->
            <xpath expr="//li[contains(@class, 'nav-item') and .//ul]" position="attributes">
                <attribute name="class">nav-item category-item main-category</attribute>
            </xpath>
            
            <xpath expr="//li[contains(@class, 'nav-item') and not(.//ul)]" position="attributes">
                <attribute name="class">nav-item category-item subcategory</attribute>
            </xpath>
            
        </template>

        <!-- Template pour améliorer la navigation dans le header -->
        <template id="website_sale_header_navigation_enhancement" name="Website Sale Header Navigation Enhancement" inherit_id="website.layout">
            
            <!-- Améliorer les liens du menu principal si ils existent -->
            <xpath expr="//a[contains(@class, 'nav-link')]" position="attributes">
                <attribute name="class">nav-link</attribute>
            </xpath>
            
        </template>

        <!-- Template pour ajouter des indicateurs de position -->
        <template id="website_sale_position_indicators" name="Website Sale Position Indicators">
            
            <!-- Indicateur de catégorie active -->
            <div class="position-indicator" t-if="request.httprequest.path.startswith('/shop/category')">
                <i class="fa fa-map-marker"></i>
                <span>Catégorie active</span>
            </div>
            
            <!-- Indicateur de produit -->
            <div class="position-indicator" t-if="request.httprequest.path.startswith('/product')">
                <i class="fa fa-tag"></i>
                <span>Page produit</span>
            </div>
            
        </template>

    </data>
</odoo>
